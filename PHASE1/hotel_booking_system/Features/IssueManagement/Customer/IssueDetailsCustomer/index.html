<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LuxuryStay - Issue Details</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body class="bg-gray-50 flex flex-col min-h-screen">

  <!-- ✅ Navbar -->
  <div id="navbar"></div>

  <!-- ✅ Layout -->
  <div class="flex flex-1 max-w-7xl mx-auto w-full py-8 px-4 lg:px-8 gap-8 mt-20">

    <!-- ✅ Sidebar -->
    <aside class="w-64 bg-white shadow-lg rounded-2xl p-6 h-fit">
      <nav class="space-y-4 text-gray-700 font-medium">
        <a href="/Features/Dashboard/Customer/index.html" data-page="dashboard" class="block py-2 border-b hover:text-yellow-600">Overview</a>
        <a href="/Features/BookingManagement/MyBookings/index.html" data-page="booking" class="block py-2 border-b hover:text-yellow-600">My Bookings</a>
        <a href="/Features/UserManagement/Customer/SavedRoomsCustomer/index.html" data-page="saved" class="block py-2 border-b hover:text-yellow-600">Wishlist</a>
        <a href="/Features/IssueManagement/Customer/MyIssues/index.html" data-page="issues" class="block py-2 border-b hover:text-yellow-600">My Issues</a>
        <a href="/Features/RefundManagement/Customer/MyRefunds/index.html" data-page="refunds" class="block py-2 border-b hover:text-yellow-600">My Refunds</a>
        <a href="/Features/UserManagement/Customer/ProfileDisplayCustomer/index.html" data-page="profile" class="block py-2 border-b hover:text-yellow-600">Profile</a>
        <a href="/Features/ReportManagement/Customer/ReportSections/index.html" data-page="report" class="block py-2 border-b hover:text-yellow-600">Reports</a>
      </nav>
    </aside>

<!-- ✅ Main Content -->
<main class="flex-1 space-y-10">

  <!-- ✅ Page Header -->
  <div class="relative rounded-2xl border-2 border-red-400 bg-[#fdfaf4] py-8 text-center shadow">
    <h2 class="text-4xl text-gray-800 font-bold">Issue Details</h2>
    <p class="text-gray-500 mt-2">Detailed view of a reported issue with media and chat</p>
  </div>

  <!-- ✅ Back Button -->
  <div class="flex justify-start">
    <button onclick="window.history.back()" 
      class="flex items-center gap-2 bg-gradient-to-r from-yellow-500 to-pink-500 text-white px-5 py-2 rounded-lg shadow hover:opacity-90">
      <span class="material-icons text-sm">arrow_back</span> Back
    </button>
  </div>

<!-- ✅ Issue Details (enhanced description + metadata + show more) -->
<section class="bg-white rounded-2xl border border-gray-200 p-6 shadow-md">
  <div class="md:flex md:items-start md:justify-between gap-6">
    <!-- Left: Main fields + large description -->
    <div class="md:flex-1">
      <h3 class="text-lg font-semibold text-yellow-700 mb-4">Issue Information</h3>

      <div class="grid sm:grid-cols-2 gap-4 mb-4 text-gray-700">
        <div>
          <p><span class="font-medium">Issue Title:</span> <span class="text-gray-900">Room Service Delay</span></p>
          <p class="mt-2"><span class="font-medium">Booking ID:</span> <span class="text-gray-900">1002</span></p>
          <p class="mt-2"><span class="font-medium">Room Number:</span> <span class="text-gray-900">302</span></p>
        </div>

        <div>
          <p><span class="font-medium">Reported By:</span> <span class="text-gray-900">Arjun Kumar</span></p>
          <p class="mt-2"><span class="font-medium">Reported On:</span> <span class="text-gray-900">17 Sept 2025, 10:28 AM</span></p>
          <p class="mt-2"><span class="font-medium">Contact:</span> <span class="text-gray-900">+91 99887 77665</span></p>
        </div>
      </div>

      <!-- Description box -->
      <div class="relative bg-gray-50 rounded-xl border border-gray-100 p-5 text-gray-800 leading-relaxed">
        <div id="descText" class="text-lg max-h-40 overflow-hidden transition-all">
          <!-- put the full description content here -->
          <p>
            Our dinner order — placed at 7:30 PM — arrived very late (after 2 hours). Several items were missing,
            and the delivered food was cold. I called room service twice and got no ETA. This caused significant
            inconvenience to our family and we missed our planned schedule for the evening. Please escalate to
            kitchen and service manager. Prefer a follow-up by phone and confirmation of refund/compensation.
          </p>
          <p class="mt-3">
            Additional notes: we had a toddler and the delay affected feeding times. Request housekeeping to check
            if a replacement tray can be arranged, and internal feedback to the team about communication protocols.
          </p>
        </div>

        <!-- fade overlay shown only when content is collapsed -->
        <div id="descFade" class="pointer-events-none absolute left-0 right-0 bottom-0 h-16 bg-gradient-to-t from-white to-transparent rounded-b-xl"></div>

        <!-- show more/less -->
        <div class="mt-4 flex items-center gap-3">
          <button id="toggleDescBtn" class="text-sm text-yellow-700 font-medium hover:underline">Show more</button>
          <span class="text-sm text-gray-500">•</span>
          <span class="text-sm text-gray-500">Last updated: 18 Sept 2025</span>
        </div>
      </div>
    </div>


  </div>
</section>



<!-- ✅ Issue Media (functional lightbox with equal thumbnails + download + captions) -->
<section class="bg-white rounded-2xl border border-gray-200 p-6 shadow-md">
  <h3 class="text-lg font-semibold text-yellow-700 mb-4">Issue Media</h3>

  <!-- Thumbnails grid: each thumbnail has a fixed height and object-cover so all look equal -->
  <div id="issueMediaGrid" class="grid grid-cols-2 md:grid-cols-3 gap-4">
    <div class="overflow-hidden rounded-lg h-40">
      <img class="thumb w-full h-full object-cover rounded-lg cursor-pointer"
           src="/assets/gym.png"
           data-large="/assets/gym.png"
           alt="Gym area - equipment" data-index="0" loading="lazy">
    </div>

    <div class="overflow-hidden rounded-lg h-40">
      <img class="thumb w-full h-full object-cover rounded-lg cursor-pointer"
           src="/assets/pool.jpg"
           data-large="/assets/pool.jpg"
           alt="Pool area" data-index="1" loading="lazy">
    </div>

    <div class="overflow-hidden rounded-lg h-40">
      <img class="thumb w-full h-full object-cover rounded-lg cursor-pointer"
           src="/assets/room1.jpg"
           data-large="/assets/room1.jpg"
           alt="Room interior" data-index="2" loading="lazy">
    </div>
        <div class="overflow-hidden rounded-lg h-40">
      <img class="thumb w-full h-full object-cover rounded-lg cursor-pointer"
           src="/assets/gym.png"
           data-large="/assets/gym.png"
           alt="Gym area - equipment" data-index="0" loading="lazy">
    </div>

    <div class="overflow-hidden rounded-lg h-40">
      <img class="thumb w-full h-full object-cover rounded-lg cursor-pointer"
           src="/assets/pool.jpg"
           data-large="/assets/pool.jpg"
           alt="Pool area" data-index="1" loading="lazy">
    </div>

    <div class="overflow-hidden rounded-lg h-40">
      <img class="thumb w-full h-full object-cover rounded-lg cursor-pointer"
           src="/assets/room1.jpg"
           data-large="/assetsroom1.jpg"
           alt="Room interior" data-index="2" loading="lazy">
    </div>
        <div class="overflow-hidden rounded-lg h-40">
      <img class="thumb w-full h-full object-cover rounded-lg cursor-pointer"
           src="/assets/gym.png"
           data-large="/assets/gym.png"
           alt="Gym area - equipment" data-index="0" loading="lazy">
    </div>

    <div class="overflow-hidden rounded-lg h-40">
      <img class="thumb w-full h-full object-cover rounded-lg cursor-pointer"
           src="/assets/pool.jpg"
           data-large="/assets/pool.jpg"
           alt="Pool area" data-index="1" loading="lazy">
    </div>

    <div class="overflow-hidden rounded-lg h-40">
      <img class="thumb w-full h-full object-cover rounded-lg cursor-pointer"
           src="/assets/room1.jpg"
           data-large="/assets/room1.jpg"
           alt="Room interior" data-index="2" loading="lazy">
    </div>

    <!-- add more thumbnails following same wrapper pattern -->
  </div>

  <!-- Lightbox modal (hidden by default) -->
  <div id="mediaLightbox" class="fixed inset-0 z-50 hidden items-center justify-center bg-black/60 p-4">
    <div class="relative max-w-5xl w-full mx-auto lightboxContent">

      <!-- Close -->
      <button id="lightboxClose" class="absolute top-4 right-4 bg-white/90 rounded-full p-2 shadow hover:bg-white">
        <span class="material-icons text-gray-800">close</span>
      </button>

      <!-- Prev -->
      <button id="lightboxPrev" class="absolute left-2 top-1/2 -translate-y-1/2 bg-white/90 rounded-full p-2 shadow hover:bg-white">
        <span class="material-icons text-gray-800">chevron_left</span>
      </button>

      <!-- Next -->
      <button id="lightboxNext" class="absolute right-2 top-1/2 -translate-y-1/2 bg-white/90 rounded-full p-2 shadow hover:bg-white">
        <span class="material-icons text-gray-800">chevron_right</span>
      </button>

      <!-- Large image -->
      <div class="rounded-lg overflow-hidden bg-gray-100">
        <img id="lightboxImage" src="" alt="Preview" class="w-full max-h-[80vh] object-contain bg-black">
      </div>

      <!-- Caption / controls -->
      <div class="mt-3 flex items-center justify-between gap-4">
        <div id="lightboxCaption" class="text-sm text-gray-100"></div>

        <div class="flex items-center gap-3">
          <div id="lightboxCounter" class="text-sm text-gray-100/90"></div>
          <a id="lightboxDownload"
             class="inline-flex items-center gap-2 bg-white/90 text-gray-800 px-3 py-1 rounded hover:bg-white shadow"
             href="#" download>
            <span class="material-icons text-sm">download</span> Download
          </a>
        </div>
      </div>
    </div>
  </div>


</section>


  <!-- ✅ Chat -->
<section class="bg-white rounded-2xl border border-gray-200 p-6 shadow-md">
    <h3 class="text-lg font-semibold text-yellow-700 mb-4">Chat with the Admin</h3>
    
    <!-- Chat Box -->
    <div class="bg-gray-50 rounded-xl border h-72 p-4 overflow-y-auto space-y-4">
      
      <!-- User message -->
      <div class="flex items-start gap-2">
        <div class="bg-yellow-100 text-gray-800 px-4 py-2 rounded-2xl max-w-xs shadow">
          <p>The AC isn’t working properly.</p>
          <span class="text-xs text-gray-500 block mt-1">10:30 AM</span>
        </div>
      </div>

      <!-- Support reply -->
      <div class="flex items-start gap-2 justify-end">
        <div class="bg-green-100 text-gray-800 px-4 py-2 rounded-2xl max-w-xs shadow">
          <p>We’ve noted this and will send maintenance shortly.</p>
          <span class="text-xs text-gray-500 block mt-1 text-right">10:32 AM</span>
        </div>
      </div>

      <!-- Another user message -->
      <div class="flex items-start gap-2">
        <div class="bg-yellow-100 text-gray-800 px-4 py-2 rounded-2xl max-w-xs shadow">
          <p>Thank you. Please send someone quickly.</p>
          <span class="text-xs text-gray-500 block mt-1">10:33 AM</span>
        </div>
      </div>

    </div>

    <!-- Input -->
    <div class="mt-4 flex gap-3">
      <input type="text" placeholder="Type your message..." 
             class="flex-1 border rounded-lg p-3 focus:ring-2 focus:ring-yellow-500">
      <button class="bg-yellow-600 hover:bg-yellow-700 text-white px-6 py-2 rounded-lg shadow">Send</button>
    </div>
  </section>

</main>

  </div>

  <!-- ✅ Footer -->
  <div id="footer"></div>


<script src="./script.js"></script>
</body>
</html>
