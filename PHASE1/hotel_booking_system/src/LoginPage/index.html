<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login Page</title>
  <link href="../../dist/LoginPage/style.css" rel="stylesheet">
</head>
<body class="bg-gray-900 flex justify-center items-center min-h-screen">
  <div class="login-container">
    <!-- Grey Top Bar -->
    <div class="topbar">
      <div class="logo">Logo</div>
    </div>
    <div class="login_div">
      <h2 class="title">Log in</h2>
      <form id="loginForm" class="form" novalidate>
        
        <label class="label">Email address<span class="text-red-500">*</span></label>
        <input type="email" name="email" placeholder="Enter your email" class="input">

        <label class="label">Password<span class="text-red-500">*</span></label>
        <input type="password" name="password" placeholder="Enter your password" class="input">

        <a href="#" class="forgot">Forgot password?</a>

        <label class="flex items-center space-x-2 mt-2">
          <input type="checkbox" class="w-4 h-4">
          <span class="text-sm">Login as Admin</span>
        </label>

        <button type="submit" class="btn">Sign in</button>

        <p class="text-sm text-center mt-2">Donâ€™t have an account?
          <a href="../SignupPage/index.html" class="link">Sign up</a>
        </p>
      </form>
    </div>
  </div>

  <script>
    const loginForm = document.getElementById("loginForm");

    loginForm.addEventListener("submit", (e) => {
      e.preventDefault();

      // Remove previous error messages
      loginForm.querySelectorAll(".error-msg").forEach(el => el.remove());

      let isValid = true;

      loginForm.querySelectorAll(".input").forEach(input => {
        // Check required fields
        if (input.previousElementSibling?.innerText.includes("*") && !input.value.trim()) {
          isValid = false;
          showError(input, "This field is required");
        }

        // Email validation
        if (input.type === "email" && input.value.trim() !== "") {
          const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          if (!emailRegex.test(input.value)) {
            isValid = false;
            showError(input, "Enter a valid email address");
          }
        }
      });

      if (isValid) {
        alert("Login successful!");
        loginForm.reset();
      }
    });

    // Append error message under input
    function showError(input, message) {
      const error = document.createElement("p");
      error.className = "error-msg text-red-500 text-xs mt-1";
      error.innerText = message;
      input.insertAdjacentElement("afterend", error);
    }
  </script>
</body>
</html>
