<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LuxuryStay - My Bookings</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body class="bg-gray-50 flex flex-col min-h-screen">

  <!-- ✅ Main Navbar -->
  <div id="navbar"></div>

  <!-- ✅ Layout -->
  <div class="flex flex-1 max-w-7xl mx-auto w-full py-8 px-4 lg:px-8 gap-8 mt-20">

    <!-- ✅ Sidebar -->
    <aside class="w-64 bg-white shadow-lg rounded-2xl p-6 h-fit">
      <nav class="space-y-4 text-gray-700 font-medium">
        <a href="../MainPageCustomer/index.html" data-page="dashboard" class="block py-2 border-b hover:text-yellow-600">Overview</a>
        <a href="../MyBookings/index.html" data-page="booking" class="block py-2 border-b hover:text-yellow-600">My Bookings</a>
        <a href="../SavedRoomsCustomer/index.html" data-page="saved" class="block py-2 border-b hover:text-yellow-600">Wishlist</a>
        <a href="../MyIssues/index.html" data-page="issues" class="block py-2 border-b hover:text-yellow-600">My Issues</a>
        <a href="../MyRefunds/index.html" data-page="refunds" class="block py-2 border-b hover:text-yellow-600">My Refunds</a>
        <a href="../ProfileDisplayCustomer/index.html" data-page="profile" class="block py-2 border-b hover:text-yellow-600">Profile</a>
        <a href="../MyReports/index.html" data-page="report" class="block py-2 border-b hover:text-yellow-600">Reports</a>
      </nav>
    </aside>

    <!-- ✅ Main Content -->
    <main class="flex-1 space-y-12">

      <!-- ✅ Welcome Header -->
      <div class="relative rounded-2xl p-[3px] bg-gradient-to-r from-yellow-600 to-red-700 shadow">
        <div class="bg-[#fdfaf4] rounded-2xl py-8 text-center">
          <h2 class="text-4xl text-gray-800 font-bold" style="font-family: 'Pacifico', cursive;">
            My Bookings
          </h2>
          <p class="mt-2 text-gray-600">View your stays, manage upcoming bookings, and download receipts.</p>
        </div>
      </div>

      <!-- ✅ Search -->
<!-- ✅ Search + Filter Box -->
<div class="bg-white shadow-lg border border-gray-200 rounded-xl p-6 space-y-4">

  <!-- Search -->
  <div>
    <label class="block text-sm font-medium text-gray-700 mb-1">Search</label>
    <div class="relative">
      <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500 material-icons">search</span>
      <input type="text" placeholder="Stay ID, Room No"
        class="w-full pl-10 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 shadow-sm">
    </div>
  </div>

  <!-- Filters -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
    
    <!-- Status -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Booking Status</label>
      <select class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500">
        <option>All</option>
        <option>Upcoming</option>
        <option>Completed</option>
        <option>Cancelled</option>
      </select>
    </div>

    <!-- Date Range -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Check-in From</label>
      <input type="date" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500">
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Check-out To</label>
      <input type="date" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500">
    </div>

  </div>

  <!-- Action -->
  <div class="flex justify-end">
    <button class="px-5 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 shadow-md flex items-center space-x-2">
      <span class="material-icons text-sm">filter_alt</span>
      <span>Apply Filters</span>
    </button>
  </div>
</div>


<!-- ✅ Bookings Table -->
<div class="overflow-x-auto bg-white shadow-lg border border-gray-200 rounded-xl">
  <table class="w-full text-sm" id="bookingsTable">
    <thead>
      <tr class="bg-yellow-50 border-b border-gray-300">
        <th class="p-3 text-left font-semibold text-gray-700">Booking</th>
        <th class="p-3 text-left font-semibold text-gray-700">Stay Dates</th>
        <th class="p-3 text-left font-semibold text-gray-700">Guests</th>
        <th class="p-3 text-left font-semibold text-gray-700">Amount</th>
        <th class="p-3 text-left font-semibold text-gray-700">Status</th>
        <th class="p-3 text-center font-semibold text-gray-700">Actions</th>
      </tr>
    </thead>
    <tbody id="bookingsTableBody">

      <!-- ✅ Example Row (Upcoming Stay) -->
      <tr class="hover:bg-gray-50">
        <td class="p-3 border-t">
          <span class="font-medium text-gray-800">2 Deluxe Rooms</span>
          <p class="text-xs text-gray-500">Stay ID: B-1001</p>
        </td>
        <td class="p-3 border-t">
          15 Sep 2025 → 20 Sep 2025
        </td>
        <td class="p-3 border-t">3 Adults, 1 Child</td>
        <td class="p-3 border-t">₹ 1,500</td>
        <td class="p-3 border-t">
          <span class="px-3 py-1 rounded-full bg-yellow-100 text-yellow-700 text-xs font-medium flex items-center w-fit">
            <span class="material-icons text-sm mr-1">hourglass_empty</span> Upcoming
          </span>
        </td>
        <td class="p-3 border-t text-center">
          <div class="flex justify-center space-x-2">
            <button onclick="window.location.href='../IndividualBookingsCustomer/index.html'"
              class="flex items-center  px-3 py-1 rounded-lg bg-blue-500 text-white hover:bg-blue-600 shadow-sm">
              <span class="material-icons text-sm">visibility</span>
              <span>View</span>
            </button>
            <button onclick="window.location.href='../EditBookings/index.html'"
              class="flex items-center space-x-1 px-3 py-1 rounded-lg bg-green-500 text-white hover:bg-green-600 shadow-sm">
              <span class="material-icons text-sm">edit</span>
              <span>Edit</span>
            </button>
<!-- On booking page -->
<button data-cancel="booking" data-id="1001" data-label="Booking #1001"
  class="flex items-center space-x-1 px-3 py-1 rounded-lg bg-red-500 text-white hover:bg-red-600 shadow-sm">
  <span class="material-icons text-sm">cancel</span><span>Cancel</span>
</button>
          </div>
        </td>
      </tr>

      <!-- ✅ Example Row (Completed Stay) -->
      <tr class="hover:bg-gray-50">
        <td class="p-3 border-t">
          <span class="font-medium text-gray-800">1 Standard Room</span>
          <p class="text-xs text-gray-500">Stay ID: B-1003</p>
        </td>
        <td class="p-3 border-t">
          01 Aug 2025 → 05 Aug 2025
        </td>
        <td class="p-3 border-t">1 Adult</td>
        <td class="p-3 border-t">₹ 5,500</td>
        <td class="p-3 border-t">
          <span class="px-3 py-1 rounded-full bg-green-100 text-green-700 text-xs font-medium flex items-center w-fit">
            <span class="material-icons text-sm mr-1">check_circle</span> Completed
          </span>
        </td>
        <td class="p-3 border-t text-center">
          <div class="flex justify-center space-x-2">
            <button onclick="window.location.href='../IndividualBookingsCustomer/index.html'"
              class="flex items-center space-x-1 px-3 py-1 rounded-lg bg-blue-500 text-white hover:bg-blue-600 shadow-sm">
              <span class="material-icons text-sm">visibility</span>
              <span>View</span>
            </button>
            <button disabled
              class="flex items-center space-x-1 px-3 py-1 rounded-lg bg-gray-400 text-white shadow-sm cursor-not-allowed">
              <span class="material-icons text-sm">block</span>
              <span>Edit</span>
            </button>
            <button disabled
              class="flex items-center space-x-1 px-3 py-1 rounded-lg bg-gray-400 text-white cursor-not-allowed">
              <span class="material-icons text-sm">block</span>
              <span>Cancel</span>
            </button>
          </div>
        </td>
      </tr>

            <!-- ✅ Example Row (Upcoming Stay) -->
      <tr class="hover:bg-gray-50">
        <td class="p-3 border-t">
          <span class="font-medium text-gray-800">2 Deluxe Rooms</span>
          <p class="text-xs text-gray-500">Stay ID: B-1001</p>
        </td>
        <td class="p-3 border-t">
          15 Sep 2025 → 20 Sep 2025
        </td>
        <td class="p-3 border-t">3 Adults, 1 Child</td>
        <td class="p-3 border-t">₹ 1,500</td>
        <td class="p-3 border-t">
          <span class="px-3 py-1 rounded-full bg-yellow-100 text-yellow-700 text-xs font-medium flex items-center w-fit">
            <span class="material-icons text-sm mr-1">hourglass_empty</span> Upcoming
          </span>
        </td>
        <td class="p-3 border-t text-center">
          <div class="flex justify-center space-x-2">
            <button onclick="window.location.href='../IndividualBookingsCustomer/index.html'"
              class="flex items-center  px-3 py-1 rounded-lg bg-blue-500 text-white hover:bg-blue-600 shadow-sm">
              <span class="material-icons text-sm">visibility</span>
              <span>View</span>
            </button>
            <button onclick="window.location.href='../EditBookings/index.html'"
              class="flex items-center space-x-1 px-3 py-1 rounded-lg bg-green-500 text-white hover:bg-green-600 shadow-sm">
              <span class="material-icons text-sm">edit</span>
              <span>Edit</span>
            </button>
<!-- On booking page -->
<button data-cancel="booking" data-id="1001" data-label="Booking #1001"
  class="flex items-center space-x-1 px-3 py-1 rounded-lg bg-red-500 text-white hover:bg-red-600 shadow-sm">
  <span class="material-icons text-sm">cancel</span><span>Cancel</span>
</button>
          </div>
        </td>
      </tr>
            <!-- ✅ Example Row (Upcoming Stay) -->
      <tr class="hover:bg-gray-50">
        <td class="p-3 border-t">
          <span class="font-medium text-gray-800">2 Deluxe Rooms</span>
          <p class="text-xs text-gray-500">Stay ID: B-1001</p>
        </td>
        <td class="p-3 border-t">
          15 Sep 2025 → 20 Sep 2025
        </td>
        <td class="p-3 border-t">3 Adults, 1 Child</td>
        <td class="p-3 border-t">₹ 1,500</td>
        <td class="p-3 border-t">
          <span class="px-3 py-1 rounded-full bg-yellow-100 text-yellow-700 text-xs font-medium flex items-center w-fit">
            <span class="material-icons text-sm mr-1">hourglass_empty</span> Upcoming
          </span>
        </td>
        <td class="p-3 border-t text-center">
          <div class="flex justify-center space-x-2">
            <button onclick="window.location.href='../IndividualBookingsCustomer/index.html'"
              class="flex items-center  px-3 py-1 rounded-lg bg-blue-500 text-white hover:bg-blue-600 shadow-sm">
              <span class="material-icons text-sm">visibility</span>
              <span>View</span>
            </button>
            <button onclick="window.location.href='../EditBookings/index.html'"
              class="flex items-center space-x-1 px-3 py-1 rounded-lg bg-green-500 text-white hover:bg-green-600 shadow-sm">
              <span class="material-icons text-sm">edit</span>
              <span>Edit</span>
            </button>
<!-- On booking page -->
<button data-cancel="booking" data-id="1001" data-label="Booking #1001"
  class="flex items-center space-x-1 px-3 py-1 rounded-lg bg-red-500 text-white hover:bg-red-600 shadow-sm">
  <span class="material-icons text-sm">cancel</span><span>Cancel</span>
</button>
          </div>
        </td>
      </tr>
            <!-- ✅ Example Row (Upcoming Stay) -->
      <tr class="hover:bg-gray-50">
        <td class="p-3 border-t">
          <span class="font-medium text-gray-800">2 Deluxe Rooms</span>
          <p class="text-xs text-gray-500">Stay ID: B-1001</p>
        </td>
        <td class="p-3 border-t">
          15 Sep 2025 → 20 Sep 2025
        </td>
        <td class="p-3 border-t">3 Adults, 1 Child</td>
        <td class="p-3 border-t">₹ 1,500</td>
        <td class="p-3 border-t">
          <span class="px-3 py-1 rounded-full bg-yellow-100 text-yellow-700 text-xs font-medium flex items-center w-fit">
            <span class="material-icons text-sm mr-1">hourglass_empty</span> Upcoming
          </span>
        </td>
        <td class="p-3 border-t text-center">
          <div class="flex justify-center space-x-2">
            <button onclick="window.location.href='../IndividualBookingsCustomer/index.html'"
              class="flex items-center  px-3 py-1 rounded-lg bg-blue-500 text-white hover:bg-blue-600 shadow-sm">
              <span class="material-icons text-sm">visibility</span>
              <span>View</span>
            </button>
            <button onclick="window.location.href='../EditBookings/index.html'"
              class="flex items-center space-x-1 px-3 py-1 rounded-lg bg-green-500 text-white hover:bg-green-600 shadow-sm">
              <span class="material-icons text-sm">edit</span>
              <span>Edit</span>
            </button>
<!-- On booking page -->
<button data-cancel="booking" data-id="1001" data-label="Booking #1001"
  class="flex items-center space-x-1 px-3 py-1 rounded-lg bg-red-500 text-white hover:bg-red-600 shadow-sm">
  <span class="material-icons text-sm">cancel</span><span>Cancel</span>
</button>
          </div>
        </td>
      </tr>
            <!-- ✅ Example Row (Upcoming Stay) -->
      <tr class="hover:bg-gray-50">
        <td class="p-3 border-t">
          <span class="font-medium text-gray-800">2 Deluxe Rooms</span>
          <p class="text-xs text-gray-500">Stay ID: B-1001</p>
        </td>
        <td class="p-3 border-t">
          15 Sep 2025 → 20 Sep 2025
        </td>
        <td class="p-3 border-t">3 Adults, 1 Child</td>
        <td class="p-3 border-t">₹ 1,500</td>
        <td class="p-3 border-t">
          <span class="px-3 py-1 rounded-full bg-yellow-100 text-yellow-700 text-xs font-medium flex items-center w-fit">
            <span class="material-icons text-sm mr-1">hourglass_empty</span> Upcoming
          </span>
        </td>
        <td class="p-3 border-t text-center">
          <div class="flex justify-center space-x-2">
            <button onclick="window.location.href='../IndividualBookingsCustomer/index.html'"
              class="flex items-center  px-3 py-1 rounded-lg bg-blue-500 text-white hover:bg-blue-600 shadow-sm">
              <span class="material-icons text-sm">visibility</span>
              <span>View</span>
            </button>
            <button onclick="window.location.href='../EditBookings/index.html'"
              class="flex items-center space-x-1 px-3 py-1 rounded-lg bg-green-500 text-white hover:bg-green-600 shadow-sm">
              <span class="material-icons text-sm">edit</span>
              <span>Edit</span>
            </button>
<!-- On booking page -->
<button data-cancel="booking" data-id="1001" data-label="Booking #1001"
  class="flex items-center space-x-1 px-3 py-1 rounded-lg bg-red-500 text-white hover:bg-red-600 shadow-sm">
  <span class="material-icons text-sm">cancel</span><span>Cancel</span>
</button>
          </div>
        </td>
      </tr>
            <!-- ✅ Example Row (Upcoming Stay) -->
      <tr class="hover:bg-gray-50">
        <td class="p-3 border-t">
          <span class="font-medium text-gray-800">2 Deluxe Rooms</span>
          <p class="text-xs text-gray-500">Stay ID: B-1001</p>
        </td>
        <td class="p-3 border-t">
          15 Sep 2025 → 20 Sep 2025
        </td>
        <td class="p-3 border-t">3 Adults, 1 Child</td>
        <td class="p-3 border-t">₹ 1,500</td>
        <td class="p-3 border-t">
          <span class="px-3 py-1 rounded-full bg-yellow-100 text-yellow-700 text-xs font-medium flex items-center w-fit">
            <span class="material-icons text-sm mr-1">hourglass_empty</span> Upcoming
          </span>
        </td>
        <td class="p-3 border-t text-center">
          <div class="flex justify-center space-x-2">
            <button onclick="window.location.href='../IndividualBookingsCustomer/index.html'"
              class="flex items-center  px-3 py-1 rounded-lg bg-blue-500 text-white hover:bg-blue-600 shadow-sm">
              <span class="material-icons text-sm">visibility</span>
              <span>View</span>
            </button>
            <button onclick="window.location.href='../EditBookings/index.html'"
              class="flex items-center space-x-1 px-3 py-1 rounded-lg bg-green-500 text-white hover:bg-green-600 shadow-sm">
              <span class="material-icons text-sm">edit</span>
              <span>Edit</span>
            </button>
<!-- On booking page -->
<button data-cancel="booking" data-id="1001" data-label="Booking #1001"
  class="flex items-center space-x-1 px-3 py-1 rounded-lg bg-red-500 text-white hover:bg-red-600 shadow-sm">
  <span class="material-icons text-sm">cancel</span><span>Cancel</span>
</button>
          </div>
        </td>
      </tr>
            <!-- ✅ Example Row (Upcoming Stay) -->
      <tr class="hover:bg-gray-50">
        <td class="p-3 border-t">
          <span class="font-medium text-gray-800">2 Deluxe Rooms</span>
          <p class="text-xs text-gray-500">Stay ID: B-1001</p>
        </td>
        <td class="p-3 border-t">
          15 Sep 2025 → 20 Sep 2025
        </td>
        <td class="p-3 border-t">3 Adults, 1 Child</td>
        <td class="p-3 border-t">₹ 1,500</td>
        <td class="p-3 border-t">
          <span class="px-3 py-1 rounded-full bg-yellow-100 text-yellow-700 text-xs font-medium flex items-center w-fit">
            <span class="material-icons text-sm mr-1">hourglass_empty</span> Upcoming
          </span>
        </td>
        <td class="p-3 border-t text-center">
          <div class="flex justify-center space-x-2">
            <button onclick="window.location.href='../IndividualBookingsCustomer/index.html'"
              class="flex items-center  px-3 py-1 rounded-lg bg-blue-500 text-white hover:bg-blue-600 shadow-sm">
              <span class="material-icons text-sm">visibility</span>
              <span>View</span>
            </button>
            <button onclick="window.location.href='../EditBookings/index.html'"
              class="flex items-center space-x-1 px-3 py-1 rounded-lg bg-green-500 text-white hover:bg-green-600 shadow-sm">
              <span class="material-icons text-sm">edit</span>
              <span>Edit</span>
            </button>
<!-- On booking page -->
<button data-cancel="booking" data-id="1001" data-label="Booking #1001"
  class="flex items-center space-x-1 px-3 py-1 rounded-lg bg-red-500 text-white hover:bg-red-600 shadow-sm">
  <span class="material-icons text-sm">cancel</span><span>Cancel</span>
</button>
          </div>
        </td>
      </tr>
            <!-- ✅ Example Row (Upcoming Stay) -->
      <tr class="hover:bg-gray-50">
        <td class="p-3 border-t">
          <span class="font-medium text-gray-800">2 Deluxe Rooms</span>
          <p class="text-xs text-gray-500">Stay ID: B-1001</p>
        </td>
        <td class="p-3 border-t">
          15 Sep 2025 → 20 Sep 2025
        </td>
        <td class="p-3 border-t">3 Adults, 1 Child</td>
        <td class="p-3 border-t">₹ 1,500</td>
        <td class="p-3 border-t">
          <span class="px-3 py-1 rounded-full bg-yellow-100 text-yellow-700 text-xs font-medium flex items-center w-fit">
            <span class="material-icons text-sm mr-1">hourglass_empty</span> Upcoming
          </span>
        </td>
        <td class="p-3 border-t text-center">
          <div class="flex justify-center space-x-2">
            <button onclick="window.location.href='../IndividualBookingsCustomer/index.html'"
              class="flex items-center  px-3 py-1 rounded-lg bg-blue-500 text-white hover:bg-blue-600 shadow-sm">
              <span class="material-icons text-sm">visibility</span>
              <span>View</span>
            </button>
            <button onclick="window.location.href='../EditBookings/index.html'"
              class="flex items-center space-x-1 px-3 py-1 rounded-lg bg-green-500 text-white hover:bg-green-600 shadow-sm">
              <span class="material-icons text-sm">edit</span>
              <span>Edit</span>
            </button>
<!-- On booking page -->
<button data-cancel="booking" data-id="1001" data-label="Booking #1001"
  class="flex items-center space-x-1 px-3 py-1 rounded-lg bg-red-500 text-white hover:bg-red-600 shadow-sm">
  <span class="material-icons text-sm">cancel</span><span>Cancel</span>
</button>
          </div>
        </td>
      </tr>
            <!-- ✅ Example Row (Upcoming Stay) -->
      <tr class="hover:bg-gray-50">
        <td class="p-3 border-t">
          <span class="font-medium text-gray-800">2 Deluxe Rooms</span>
          <p class="text-xs text-gray-500">Stay ID: B-1001</p>
        </td>
        <td class="p-3 border-t">
          15 Sep 2025 → 20 Sep 2025
        </td>
        <td class="p-3 border-t">3 Adults, 1 Child</td>
        <td class="p-3 border-t">₹ 1,500</td>
        <td class="p-3 border-t">
          <span class="px-3 py-1 rounded-full bg-yellow-100 text-yellow-700 text-xs font-medium flex items-center w-fit">
            <span class="material-icons text-sm mr-1">hourglass_empty</span> Upcoming
          </span>
        </td>
        <td class="p-3 border-t text-center">
          <div class="flex justify-center space-x-2">
            <button onclick="window.location.href='../IndividualBookingsCustomer/index.html'"
              class="flex items-center  px-3 py-1 rounded-lg bg-blue-500 text-white hover:bg-blue-600 shadow-sm">
              <span class="material-icons text-sm">visibility</span>
              <span>View</span>
            </button>
            <button onclick="window.location.href='../EditBookings/index.html'"
              class="flex items-center space-x-1 px-3 py-1 rounded-lg bg-green-500 text-white hover:bg-green-600 shadow-sm">
              <span class="material-icons text-sm">edit</span>
              <span>Edit</span>
            </button>
<!-- On booking page -->
<button data-cancel="booking" data-id="1001" data-label="Booking #1001"
  class="flex items-center space-x-1 px-3 py-1 rounded-lg bg-red-500 text-white hover:bg-red-600 shadow-sm">
  <span class="material-icons text-sm">cancel</span><span>Cancel</span>
</button>
          </div>
        </td>
      </tr>
            <!-- ✅ Example Row (Upcoming Stay) -->
      <tr class="hover:bg-gray-50">
        <td class="p-3 border-t">
          <span class="font-medium text-gray-800">2 Deluxe Rooms</span>
          <p class="text-xs text-gray-500">Stay ID: B-1001</p>
        </td>
        <td class="p-3 border-t">
          15 Sep 2025 → 20 Sep 2025
        </td>
        <td class="p-3 border-t">3 Adults, 1 Child</td>
        <td class="p-3 border-t">₹ 1,500</td>
        <td class="p-3 border-t">
          <span class="px-3 py-1 rounded-full bg-yellow-100 text-yellow-700 text-xs font-medium flex items-center w-fit">
            <span class="material-icons text-sm mr-1">hourglass_empty</span> Upcoming
          </span>
        </td>
        <td class="p-3 border-t text-center">
          <div class="flex justify-center space-x-2">
            <button onclick="window.location.href='../IndividualBookingsCustomer/index.html'"
              class="flex items-center  px-3 py-1 rounded-lg bg-blue-500 text-white hover:bg-blue-600 shadow-sm">
              <span class="material-icons text-sm">visibility</span>
              <span>View</span>
            </button>
            <button onclick="window.location.href='../EditBookings/index.html'"
              class="flex items-center space-x-1 px-3 py-1 rounded-lg bg-green-500 text-white hover:bg-green-600 shadow-sm">
              <span class="material-icons text-sm">edit</span>
              <span>Edit</span>
            </button>
<!-- On booking page -->
<button data-cancel="booking" data-id="1001" data-label="Booking #1001"
  class="flex items-center space-x-1 px-3 py-1 rounded-lg bg-red-500 text-white hover:bg-red-600 shadow-sm">
  <span class="material-icons text-sm">cancel</span><span>Cancel</span>
</button>
          </div>
        </td>
      </tr>

    </tbody>
  </table>
</div>

<!-- Unified modal (one modal reused for all types) -->
<div id="unifiedCancelModal" class="fixed inset-0 z-50 flex hidden items-center justify-center bg-black/50 p-4">
  <div class="bg-white rounded-2xl w-full max-w-lg p-6 shadow-lg">
    <div class="flex items-start justify-between">
      <div>
        <h3 id="ucmTitle" class="text-xl font-semibold text-gray-800">Cancel</h3>
        <p id="ucmSubtitle" class="text-sm text-gray-500 mt-1">Confirm your action</p>
      </div>
      <button id="ucmClose" class="text-gray-500 hover:text-gray-800" aria-label="Close">✕</button>
    </div>

    <!-- dynamic body -->
    <div id="ucmBody" class="mt-4 text-gray-700">
      <!-- booking uses textarea; others show confirmation text -->
      <div id="ucmConfirmText" class="hidden">
        <p id="ucmConfirmMsg"></p>
      </div>

      <div id="ucmBookingReason" class="hidden">
        <label class="block">
          <span class="text-sm text-gray-600">Cancellation reason (optional)</span>
          <textarea id="ucmReasonInput" rows="4" class="w-full mt-2 border rounded p-3"
                    placeholder="Tell us why you're cancelling (optional)"></textarea>
        </label>
      </div>
    </div>

    <div class="mt-5 flex items-center justify-between gap-3">
      <button id="ucmAbort" class="px-4 py-2 rounded-lg border text-gray-700">No, go back</button>
      <button id="ucmConfirm" class="px-4 py-2 rounded-lg bg-red-600 text-white shadow-lg">Yes — Cancel</button>
    </div>
  </div>
</div>

<!-- Toast container -->
<div id="unifiedToast" class="fixed top-6 right-6 z-50 space-y-2"></div>





      <!-- ✅ Pagination -->
      <nav class="flex flex-col md:flex-row justify-between items-center mt-6 space-y-4 md:space-y-0">
        <!-- Prev -->
        <button onclick="prevPage()" class="px-5 py-2 flex items-center space-x-2 border rounded-full bg-gray-200 hover:bg-gray-300">
          <span class="material-icons text-sm">chevron_left</span>
          <span>Prev</span>
        </button>

        <!-- Page Numbers -->
        <ul class="flex space-x-2">
          <li><button onclick="goToPage(1)" class="px-4 py-2 rounded-full bg-yellow-500 text-white shadow">1</button></li>
          <li><button onclick="goToPage(2)" class="px-4 py-2 rounded-full bg-gray-200 hover:bg-yellow-100">2</button></li>
          <li><button onclick="goToPage(3)" class="px-4 py-2 rounded-full bg-gray-200 hover:bg-yellow-100">3</button></li>
          <li><span class="px-4 py-2">...</span></li>
          <li><button onclick="goToPage(10)" class="px-4 py-2 rounded-full bg-gray-200 hover:bg-yellow-100">10</button></li>
        </ul>

        <!-- Next -->
        <button onclick="nextPage()" class="px-5 py-2 flex items-center space-x-2 border rounded-full bg-gray-200 hover:bg-gray-300">
          <span>Next</span>
          <span class="material-icons text-sm">chevron_right</span>
        </button>

        <!-- Jumper -->
        <div class="flex items-center space-x-2">
          <label for="pageInput" class="text-sm text-gray-600 font-medium">Jump to:</label>
          <input id="pageInput" type="number" min="1" placeholder="Page #"
            class="w-20 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 shadow-sm">
          <button onclick="jumpToPage()" class="px-4 py-2 rounded-lg bg-blue-500 text-white hover:bg-blue-600 shadow flex items-center space-x-1">
            <span class="material-icons text-sm">login</span>
            <span>Go</span>
          </button>
        </div>
      </nav>

    </main>
  </div>

  <!-- ✅ Footer -->
  <div id="footer"></div>

  <!-- ✅ Script -->
  <script>

document.addEventListener('DOMContentLoaded', () => {
  // Elements
  const modal = document.getElementById('unifiedCancelModal');
  const ucmTitle = document.getElementById('ucmTitle');
  const ucmSubtitle = document.getElementById('ucmSubtitle');
  const ucmBody = document.getElementById('ucmBody');
  const ucmConfirmText = document.getElementById('ucmConfirmText');
  const ucmBookingReason = document.getElementById('ucmBookingReason');
  const ucmConfirmMsg = document.getElementById('ucmConfirmMsg');
  const reasonInput = document.getElementById('ucmReasonInput');
  const closeBtn = document.getElementById('ucmClose');
  const abortBtn = document.getElementById('ucmAbort');
  const confirmBtn = document.getElementById('ucmConfirm');
  const toastContainer = document.getElementById('unifiedToast');

  let currentTrigger = null; // element that opened modal
  let currentType = null;
  let currentId = null;
  let currentLabel = null;

  // Helper: show toast (non-blocking)
  function showToast(message, tone = 'success') {
    const toast = document.createElement('div');
    const bg = tone === 'error' ? 'bg-red-600' : 'bg-green-600';
    toast.className = `${bg} text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-3`;
    toast.style.minWidth = '220px';
    toast.innerHTML = `<div class="flex-1 text-sm">${message}</div><button aria-label="close" class="opacity-80 hover:opacity-100">✕</button>`;
    toastContainer.appendChild(toast);
    toast.querySelector('button').addEventListener('click', () => toast.remove());
    setTimeout(() => { try { toast.remove(); } catch (e) {} }, 4000);
  }

  // open unified modal configured by type
  function openUnifiedModal(triggerEl) {
    currentTrigger = triggerEl;
    currentType = triggerEl.dataset.cancel; // booking | issue | refund
    currentId = triggerEl.dataset.id || null;
    currentLabel = triggerEl.dataset.label || (currentType ? currentType.toUpperCase() : 'Item');

    // set header/subtitle and body
    if (currentType === 'booking') {
      ucmTitle.textContent = 'Cancel Booking';
      ucmSubtitle.textContent = currentLabel + (currentId ? ` • ID ${currentId}` : '');
      ucmConfirmText.classList.add('hidden');
      ucmBookingReason.classList.remove('hidden');
      reasonInput.value = '';
      confirmBtn.textContent = 'Yes — Cancel Booking';
    } else if (currentType === 'issue') {
      ucmTitle.textContent = 'Cancel Issue Report';
      ucmSubtitle.textContent = currentLabel + (currentId ? ` • ID ${currentId}` : '');
      ucmConfirmMsg.textContent = 'This will mark the issue report as cancelled. Are you sure?';
      ucmConfirmText.classList.remove('hidden');
      ucmBookingReason.classList.add('hidden');
      confirmBtn.textContent = 'Yes — Cancel Issue';
    } else if (currentType === 'refund') {
      ucmTitle.textContent = 'Cancel Refund';
      ucmSubtitle.textContent = currentLabel + (currentId ? ` • ID ${currentId}` : '');
      ucmConfirmMsg.textContent = 'Cancelling will stop further processing of this refund. Confirm to proceed.';
      ucmConfirmText.classList.remove('hidden');
      ucmBookingReason.classList.add('hidden');
      confirmBtn.textContent = 'Yes — Cancel Refund';
    } else {
      // fallback (generic)
      ucmTitle.textContent = 'Cancel';
      ucmSubtitle.textContent = currentLabel || '';
      ucmConfirmMsg.textContent = 'Confirm cancel?';
      ucmConfirmText.classList.remove('hidden');
      ucmBookingReason.classList.add('hidden');
      confirmBtn.textContent = 'Yes — Cancel';
    }

    // show modal
    modal.classList.remove('hidden');
    document.body.style.overflow = 'hidden';
    // autofocus confirm for keyboard users
    confirmBtn.focus();
  }

  function closeUnifiedModal() {
    modal.classList.add('hidden');
    document.body.style.overflow = '';
    currentTrigger = null;
    currentType = null;
    currentId = null;
    currentLabel = null;
  }

  // Global click handler: any button with [data-cancel] opens modal
  document.body.addEventListener('click', (e) => {
    const btn = e.target.closest('[data-cancel]');
    if (!btn) return;
    // prevent default if it's a link/button
    e.preventDefault();
    openUnifiedModal(btn);
  });

  // Modal controls
  closeBtn.addEventListener('click', closeUnifiedModal);
  abortBtn.addEventListener('click', closeUnifiedModal);

  // clicking overlay closes if clicking directly on modal background
  modal.addEventListener('click', (e) => {
    if (e.target === modal) closeUnifiedModal();
  });

  // ESC closes
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && !modal.classList.contains('hidden')) closeUnifiedModal();
  });

  // Confirm action: show toast only (no DOM update)
  confirmBtn.addEventListener('click', () => {
    const reason = (currentType === 'booking') ? (reasonInput.value || null) : null;
    closeUnifiedModal();

    // choose message
    let msg = 'Cancelled';
    if (currentType === 'booking') msg = currentLabel ? `${currentLabel} cancelled.` : 'Booking cancelled.';
    else if (currentType === 'issue') msg = currentLabel ? `${currentLabel} cancelled.` : 'Issue cancelled.';
    else if (currentType === 'refund') msg = currentLabel ? `${currentLabel} cancelled.` : 'Refund cancelled.';
    // If reason present, add short note to toast message
    if (reason) {
      showToast(`${msg} Reason noted.`, 'success');
    } else {
      showToast(msg, 'success');
    }
  });
});
    // Navbar load

  const isCustomerLoggedIn = localStorage.getItem("is_customer_logged_in") === "true";
const isAdminLoggedIn = localStorage.getItem("is_admin_logged_in") === "true";

// ✅ Navbar loader
let navbarPath = "../NotCustomerNavbar/index.html"; // default

if (isAdminLoggedIn) {
  navbarPath = "../AdminLandingNavbar/index.html";
} else if (isCustomerLoggedIn) {
  navbarPath = "../LoggedCustomerNavbar/index.html";
}

// ✅ Navbar loader
fetch(navbarPath)
  .then(res => res.text())
  .then(data => {
    document.getElementById("navbar").innerHTML = data;

    // mobile menu toggle
    const menuBtn = document.getElementById("menuBtn");
    const mobileMenu = document.getElementById("mobileMenu");
    if (menuBtn && mobileMenu) {
      menuBtn.addEventListener("click", () => {
        mobileMenu.classList.toggle("open");
      });
    }

    // ✅ attach modal listeners AFTER navbar injected
    attachModalListeners();
  });

function attachModalListeners() {
  const modal = document.getElementById("bookingModal");
  const closeModal = document.getElementById("closeModal");
  const addRoomBtn = document.getElementById("addRoomBtn");
  const roomsContainer = document.getElementById("roomsContainer");

  const individualModeBtn = document.getElementById("individualModeBtn");
  const sameDatesBtn = document.getElementById("sameDatesBtn");
  const globalDates = document.getElementById("globalDates");

  if (!modal) return;

  // Open modal
  document.querySelectorAll(".bookingModal").forEach(btn => {
    btn.addEventListener("click", (e) => {
      e.preventDefault();
      modal.classList.remove("hidden");
      modal.classList.add("flex");
    });
  });

  // Close modal
  closeModal?.addEventListener("click", () => {
    modal.classList.add("hidden");
    modal.classList.remove("flex");
  });

  // Add counter listeners
  function addCounterListeners(roomDiv) {
    roomDiv.querySelectorAll(".increase").forEach(btn => {
      btn.addEventListener("click", () => {
        const input = btn.parentElement.querySelector("input");
        input.value = parseInt(input.value) + 1;
      });
    });
    roomDiv.querySelectorAll(".decrease").forEach(btn => {
      btn.addEventListener("click", () => {
        const input = btn.parentElement.querySelector("input");
        if (parseInt(input.value) > parseInt(input.min)) {
          input.value = parseInt(input.value) - 1;
        }
      });
    });
  }

  // ✅ Reindex rooms after add/remove
  function reindexRooms() {
    document.querySelectorAll(".room-card").forEach((room, index) => {
      room.querySelector(".room-title").textContent = `Room ${index + 1}`;
    });
  }

// Add room
addRoomBtn?.addEventListener("click", () => {
  const roomDiv = document.createElement("div");
  roomDiv.className = "room-card border p-5 rounded-xl mb-6 bg-gray-50 shadow-sm";

  // check if globalDates is visible
  const useIndividualDates = !globalDates || globalDates.classList.contains("hidden");

  roomDiv.innerHTML = `
    <!-- Row 1: Room no + type -->
    <div class="flex items-center justify-between mb-4">
      <h3 class="room-title font-semibold text-lg">Room</h3>
      <select class="border rounded-lg p-2 focus:ring-2 focus:ring-yellow-500">
        <option>Deluxe Room</option>
        <option>Executive Suite</option>
        <option>Presidential Suite</option>
      </select>
    </div>

    <!-- Row 2: Adults + Children -->
    <div class="grid grid-cols-2 gap-6 mb-4">
      <div class="flex items-center justify-between">
        <label class="text-sm font-medium">Adults</label>
        <div class="flex items-center space-x-3">
          <button class="decrease w-8 h-8 rounded-full bg-gray-200">−</button>
          <input type="number" value="1" min="1" class="w-12 text-center border rounded-md p-1">
          <button class="increase w-8 h-8 rounded-full bg-yellow-500 text-white">+</button>
        </div>
      </div>
      <div class="flex items-center justify-between">
        <label class="text-sm font-medium">Children</label>
        <div class="flex items-center space-x-3">
          <button class="decrease w-8 h-8 rounded-full bg-gray-200">−</button>
          <input type="number" value="0" min="0" class="w-12 text-center border rounded-md p-1">
          <button class="increase w-8 h-8 rounded-full bg-yellow-500 text-white">+</button>
        </div>
      </div>
    </div>

    ${
      useIndividualDates
        ? `
        <!-- ✅ Individual Dates -->
        <div class="room-dates grid grid-cols-2 gap-4 mb-2">
          <div>
            <label class="block text-sm font-medium mb-1">Check-in</label>
            <input type="date" class="check-in w-full border rounded-lg p-2 focus:ring-2 focus:ring-yellow-500">
          </div>
          <div>
            <label class="block text-sm font-medium mb-1">Check-out</label>
            <input type="date" class="check-out w-full border rounded-lg p-2 focus:ring-2 focus:ring-yellow-500">
          </div>
        </div>
        <p class="dateError text-red-500 text-sm mb-2"></p>
        `
        : ``
    }

    <button class="remove-room mt-2 text-sm text-red-500 hover:underline">Remove Room</button>
  `;

  roomsContainer.appendChild(roomDiv);

  addCounterListeners(roomDiv);

  // Remove room + reindex
  roomDiv.querySelector(".remove-room").addEventListener("click", () => {
    roomDiv.remove();
    reindexRooms();
  });

  reindexRooms();
});

  // ✅ Toggle between individual and same dates
  individualModeBtn?.addEventListener("click", () => {
    document.querySelectorAll(".room-dates").forEach(d => d.classList.remove("hidden"));
    globalDates.classList.add("hidden");

    individualModeBtn.classList.add("bg-yellow-100", "text-yellow-700");
    sameDatesBtn.classList.remove("bg-yellow-100", "text-yellow-700");
    sameDatesBtn.classList.add("text-gray-600");
  });

  sameDatesBtn?.addEventListener("click", () => {
    document.querySelectorAll(".room-dates").forEach(d => d.classList.add("hidden"));
    globalDates.classList.remove("hidden");

    sameDatesBtn.classList.add("bg-yellow-100", "text-yellow-700");
    individualModeBtn.classList.remove("bg-yellow-100", "text-yellow-700");
    individualModeBtn.classList.add("text-gray-600");
  });

  // Init counters for first room
  addCounterListeners(document.querySelector(".room-card"));
  reindexRooms();
}

    // Footer load
    fetch("../CustomerFooter/index.html")
      .then(res => res.text())
      .then(data => { document.getElementById("footer").innerHTML = data; });

    // Highlight sidebar
    document.querySelectorAll("aside nav a").forEach(link => {
      if (link.dataset.page === "booking") {
        link.classList.add("text-yellow-700", "font-semibold");
      }
    });

    // Pagination
    let currentPage = 1;
    const rowsPerPage = 5;
    function showPage(page) {
      const rows = document.querySelectorAll("#bookingsTableBody tr");
      const totalPages = Math.ceil(rows.length / rowsPerPage);
      if (page < 1) page = 1;
      if (page > totalPages) page = totalPages;
      currentPage = page;
      rows.forEach((row, i) => {
        row.style.display = (i >= (page - 1) * rowsPerPage && i < page * rowsPerPage) ? "" : "none";
      });
    }
    function prevPage() { showPage(currentPage - 1); }
    function nextPage() { showPage(currentPage + 1); }
    function goToPage(p) { showPage(p); }
    function jumpToPage() {
      const p = parseInt(document.getElementById("pageInput").value);
      if (p) showPage(p);
    }
    document.addEventListener("DOMContentLoaded", () => showPage(1));
  </script>
</body>
</html>
