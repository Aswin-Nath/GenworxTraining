<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<link rel="icon" type="image/png" href="/assets/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LuxuryStay - Booking Details</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body class="bg-gray-50">
  <!-- Include Navbar -->
  <div id="navbar"></div>
  <!-- Include Sidebar -->
  <div id="sidebar" class="fixed top-16 left-0 w-64 h-screen shadow-lg bg-white"></div>

  <!-- Add this script before your main script -->
  <script>
    // Fetch and inject navbar
// ✅ Admin Navbar Loader
fetch('/Features/Components/Navbars/AdminMainPageNavbar/index.html')
  .then(response => response.text())
  .then(data => {
    document.getElementById('navbar').innerHTML = data;

    // ✅ Always init notifications after navbar is injected
    initNotifications();
  })
  .catch(err => {
    console.error('❌ Navbar load failed:', err);
    document.getElementById('navbar').innerHTML = `
      <div class="fixed top-0 left-0 right-0 bg-white shadow z-30">
        <div class="max-w-7xl mx-auto p-4 flex justify-between items-center">
          <div class="font-bold text-yellow-600">LuxuryStay</div>
        </div>
      </div>`;
  });


// ✅ Notifications initializer
function initNotifications() {
  const latestNotifs = [
    { type: 'booking', msg: 'New booking: Room 201 confirmed', time: '2m ago' },
    { type: 'issue', msg: 'Issue reported in Room 105', time: '30m ago' },
    { type: 'refund', msg: 'Refund processed for BK#1234', time: '1h ago' }
  ];

  function notifIcon(type) {
    switch (type) {
      case 'booking': return `<i class="fas fa-calendar-check text-green-600"></i>`;
      case 'issue': return `<i class="fas fa-exclamation-triangle text-red-600"></i>`;
      case 'refund': return `<i class="fas fa-money-bill-wave text-yellow-500"></i>`;
      default: return `<i class="fas fa-bell text-gray-500"></i>`;
    }
  }

  function renderNotifs(listId) {
    const list = document.getElementById(listId);
    if (!list) return;
    list.innerHTML = latestNotifs.map(n => `
      <div class="px-4 py-3 flex items-start space-x-3 hover:bg-gray-50">
        <div>${notifIcon(n.type)}</div>
        <div class="flex-1">
          <p class="text-sm text-gray-700">${n.msg}</p>
          <span class="text-xs text-gray-400">${n.time}</span>
        </div>
      </div>
    `).join('');
  }

  // Render into dropdowns
  renderNotifs('notifList');
  renderNotifs('notifListMobile');

  // Show red dot indicators
  document.getElementById('notifDot')?.classList.remove('hidden');
  document.getElementById('notifDotMobile')?.classList.remove('hidden');

  // Dropdown toggles
  const toggleDropdown = (btnId, dropId) => {
    const btn = document.getElementById(btnId);
    const drop = document.getElementById(dropId);
    if (btn && drop) {
      btn.addEventListener('click', (e) => {
        e.stopPropagation();
        drop.classList.toggle('hidden');
      });
      document.addEventListener('click', (e) => {
        if (!btn.contains(e.target) && !drop.contains(e.target)) {
          drop.classList.add('hidden');
        }
      });
    }
  };

  toggleDropdown('notifBtn', 'notifDropdown');
  toggleDropdown('notifBtnMobile', 'notifDropdownMobile');
}

    // Fetch and inject sidebar
    fetch('/Features/Components/Sidebars/AdminMainPageSidebar/index.html')
      .then(response => response.text())
      .then(data => {
        document.getElementById('sidebar').innerHTML = data;
      });
  </script>

  <main class="ml-64 pt-16 p-8 h-screen overflow-y-auto space-y-8">
    <!-- Page Header -->
    <div class="relative rounded-2xl border-2 border-yellow-500 bg-yellow-50 py-8 text-center shadow">
      <h2 class="text-4xl text-gray-800 font-bold">Booking Details</h2>
      <p class="text-gray-600 mt-2">Complete overview of booking #B1001</p>
    </div>

    <!-- Back Button -->
    <div class="flex justify-start">
      <button onclick="window.history.back()" 
              class="flex items-center gap-2 bg-gray-200 hover:bg-gray-300 text-gray-800 px-5 py-2 rounded-lg shadow">
        <span class="material-icons text-sm">arrow_back</span> Back
      </button>
    </div>

    <!-- Booking Summary -->
    <section class="bg-white rounded-2xl border-2 border-yellow-400 p-6 shadow-md">
      <h3 class="text-lg font-semibold text-yellow-700 mb-4">Booking Summary</h3>
      <div class="grid md:grid-cols-2 gap-6">
        <!-- Left Column -->
        <div class="space-y-3">
          <p><span class="font-medium">Booking ID:</span> #B1001</p>
          <p><span class="font-medium">Booking Date:</span> 15 Sept 2023</p>
          <p><span class="font-medium">Check-in:</span> 21 Sept 2023, 2:00 PM</p>
          <p><span class="font-medium">Check-out:</span> 25 Sept 2023, 12:00 PM</p>
          <p><span class="font-medium">Total Nights:</span> 4</p>
          <p><span class="font-medium">Total Rooms:</span> 3</p>
          <p><span class="font-medium">Total Guests:</span> 8 (6 Adults, 2 Children)</p>
        </div>
        <!-- Right Column -->
        <div class="space-y-3">
          <p><span class="font-medium">Payment Status:</span> 
            <span class="px-3 py-1 rounded-full bg-green-100 text-green-700 text-xs">Paid</span>
          </p>
          <p><span class="font-medium">Payment Method:</span> Credit Card (**** 2345)</p>
          <p><span class="font-medium">Transaction ID:</span> TXN123456789</p>
          <p><span class="font-medium">Total Amount:</span> ₹45,000</p>
          <p><span class="font-medium">Special Requests:</span> Early check-in, Extra pillows</p>
        </div>
      </div>
    </section>

    <!-- Customer Information -->
    <section class="bg-white rounded-2xl border-2 border-yellow-400 p-6 shadow-md">
      <h3 class="text-lg font-semibold text-yellow-700 mb-4">Customer Information</h3>
      <div class="grid md:grid-cols-2 gap-6">
        <!-- Primary Guest -->
        <div class="p-4 rounded-xl bg-gray-50 border">
          <h4 class="font-semibold text-gray-800 mb-2">Primary Guest</h4>
          <div class="space-y-2">
            <p><span class="font-medium">Name:</span> Arjun Kumar</p>
            <p><span class="font-medium">Email:</span> arjun.kumar@example.com</p>
            <p><span class="font-medium">Phone:</span> +91 99887 77665</p>
            <p><span class="font-medium">ID Type:</span> Aadhar Card</p>
            <p><span class="font-medium">ID Number:</span> XXXX-XXXX-1234</p>
          </div>
        </div>
        <!-- Additional Guests -->
        <div class="p-4 rounded-xl bg-gray-50 border">
          <h4 class="font-semibold text-gray-800 mb-2">Additional Guests</h4>
          <ul class="list-disc list-inside space-y-2 text-gray-600">
            <li>Priya Kumar (Adult)</li>
            <li>Rahul Kumar (Adult)</li>
            <li>Meera Kumar (Adult)</li>
            <li>Amit Kumar (Child - 8 years)</li>
            <li>Sara Kumar (Child - 6 years)</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Room Details -->
    <section class="bg-white rounded-2xl border-2 border-yellow-400 p-6 shadow-md">
      <h3 class="text-lg font-semibold text-yellow-700 mb-4">Room Details</h3>
      <div class="space-y-6">
        <!-- Room 1 -->
        <div class="border rounded-xl p-4">
          <div class="flex justify-between items-start mb-4">
            <div>
              <h4 class="font-semibold text-gray-800">Room 101 - Deluxe Room</h4>
              <p class="text-gray-500">₹12,000 per night</p>
            </div>
            <span class="px-3 py-1 rounded-full bg-green-100 text-green-700 text-xs">Occupied</span>
          </div>
          <div class="grid md:grid-cols-2 gap-4">
            <div>
              <p><span class="font-medium">Occupancy:</span> 2 Adults, 1 Child</p>
              <p><span class="font-medium">Bed Type:</span> King Bed</p>
              <p><span class="font-medium">View:</span> City View</p>
            </div>
            <div>
              <p><span class="font-medium">Meal Plan:</span> Breakfast Included</p>
              <p><span class="font-medium">Room Size:</span> 32 sq.m</p>
              <p><span class="font-medium">Floor:</span> 1st Floor</p>
            </div>
          </div>
        </div>

        <!-- Room 2 -->
        <div class="border rounded-xl p-4">
          <div class="flex justify-between items-start mb-4">
            <div>
              <h4 class="font-semibold text-gray-800">Room 205 - Executive Suite</h4>
              <p class="text-gray-500">₹18,000 per night</p>
            </div>
            <span class="px-3 py-1 rounded-full bg-green-100 text-green-700 text-xs">Occupied</span>
          </div>
          <div class="grid md:grid-cols-2 gap-4">
            <div>
              <p><span class="font-medium">Occupancy:</span> 2 Adults</p>
              <p><span class="font-medium">Bed Type:</span> King Bed</p>
              <p><span class="font-medium">View:</span> Pool View</p>
            </div>
            <div>
              <p><span class="font-medium">Meal Plan:</span> All Inclusive</p>
              <p><span class="font-medium">Room Size:</span> 45 sq.m</p>
              <p><span class="font-medium">Floor:</span> 2nd Floor</p>
            </div>
          </div>
        </div>

        <!-- Room 3 -->
        <div class="border rounded-xl p-4">
          <div class="flex justify-between items-start mb-4">
            <div>
              <h4 class="font-semibold text-gray-800">Room 304 - Deluxe Room</h4>
              <p class="text-gray-500">₹15,000 per night</p>
            </div>
            <span class="px-3 py-1 rounded-full bg-green-100 text-green-700 text-xs">Occupied</span>
          </div>
          <div class="grid md:grid-cols-2 gap-4">
            <div>
              <p><span class="font-medium">Occupancy:</span> 2 Adults, 1 Child</p>
              <p><span class="font-medium">Bed Type:</span> Twin Beds</p>
              <p><span class="font-medium">View:</span> Garden View</p>
            </div>
            <div>
              <p><span class="font-medium">Meal Plan:</span> Breakfast Included</p>
              <p><span class="font-medium">Room Size:</span> 32 sq.m</p>
              <p><span class="font-medium">Floor:</span> 3rd Floor</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Issues Raised -->
    <section class="bg-white rounded-2xl border-2 border-pink-400 p-6 shadow-md">
      <h3 class="text-lg font-semibold text-yellow-700 mb-4">Issues Raised</h3>
      <div class="space-y-4">
        <div class="border rounded-xl p-4">
          <div class="flex justify-between items-start mb-2">
            <div>
              <h4 class="font-semibold text-gray-800">Room Service Delay</h4>
              <p class="text-gray-500 text-sm">Reported on: 22 Sept 2023</p>
            </div>
            <span class="px-3 py-1 rounded-full bg-green-100 text-green-700 text-xs">Resolved</span>
          </div>
          <p class="text-gray-600 mt-2">Issue with delayed room service. Response time was over 2 hours.</p>
        </div>

        <div class="border rounded-xl p-4">
          <div class="flex justify-between items-start mb-2">
            <div>
              <h4 class="font-semibold text-gray-800">AC Not Working</h4>
              <p class="text-gray-500 text-sm">Reported on: 23 Sept 2023</p>
            </div>
            <span class="px-3 py-1 rounded-full bg-yellow-100 text-yellow-700 text-xs">Pending</span>
          </div>
          <p class="text-gray-600 mt-2">AC temperature control not functioning properly in Room 304.</p>
        </div>
      </div>
    </section>

    <!-- Customer Review -->
    <section class="bg-white rounded-2xl border-2 border-yellow-400 p-6 shadow-md">
      <h3 class="text-lg font-semibold text-yellow-700 mb-4">Customer Review</h3>
      <div class="space-y-4">
        <div class="flex items-center gap-2 mb-4">
          <div class="flex text-yellow-400">
            <span class="material-icons">star</span>
            <span class="material-icons">star</span>
            <span class="material-icons">star</span>
            <span class="material-icons">star</span>
            <span class="material-icons">star_half</span>
          </div>
          <span class="text-xl font-bold text-gray-800">4.5</span>
        </div>
        
        <div class="bg-gray-50 rounded-xl p-4 border">
          <p class="text-gray-700 italic">
            "Overall a pleasant stay. The rooms were spacious and well-maintained. Staff was courteous and helpful. 
            Had some issues with room service timing but it was handled professionally. The pool and gym facilities 
            were excellent. Would recommend for family stays."
          </p>
          <p class="mt-4 text-sm text-gray-500">Review submitted on: 25 Sept 2023</p>
        </div>
      </div>
    </section>

    <!-- Action Buttons -->
    <div class="flex justify-end gap-4">
      <button class="px-5 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 shadow flex items-center gap-2">
        <span class="material-icons text-sm">edit</span> Edit Booking
      </button>
      <button class="px-5 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 shadow flex items-center gap-2">
        <span class="material-icons text-sm">cancel</span> Cancel Booking
      </button>
    </div>
  </main>

<script src="./script.js"></script>
</body>
</html>
